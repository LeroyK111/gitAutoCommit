# å·¥ä½œåç§°
name: AutoCommit Everyday Green
# è¿è¡Œåç§°
run-name: ${{ github.actor }} AutoCommit Everyday Green ğŸš€
# äº‹ä»¶
on:
  schedule:
    # å¶å°”è§¦å‘ä¸äº†ï¼Œä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚
    - cron:  '30 5,17 * * *'
# å·¥ä½œ
jobs:
  # å·¥ä½œåï¼Œå¯ä»¥æœ‰å¤šä¸ª
  Everyday-Green:
    # è¿è¡Œç¯å¢ƒ
    runs-on: ubuntu-latest
    # pythonç¯å¢ƒ
    strategy:
      matrix:
        python-version: ["3.11.1"]
    # è®¾ç½®ä½œä¸šshellå’Œé»˜è®¤æ–‡ä»¶å¤¹
    defaults:
      run:
        shell: bash
        working-directory: ${{github.workspace}}
    env:
      UserEmail: bridieiybnf@gmail.com
      UserName: LeroyK
      # å¯ä»¥ä½¿ç”¨å…¶ä»–å¯†é’¥ï¼Œä½†å¿…é¡»åœ¨ä»“åº“ä¸­é…ç½®å¥½ï¼ï¼ï¼
      # SUPER_SECRET: ${{ secrets.ID_RSA }}
    # linuxæŒ‡ä»¤æ­¥éª¤
    steps:
      # è¿›å…¥å­˜å‚¨åº“
      - name: keyword actions/checkout@v3.
        uses: actions/checkout@v3
      # è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±
      - run: git config --global user.email "$UserEmail"
      - run: git config --global user.name "$UserName"
      # æ‹‰å–æœ€æ–°çš„masteråˆ†æ”¯ï¼Œå¹¶å¼ºåˆ¶è¦†ç›–æœ¬åœ°
      - run: git pull origin master -f
      # æ‰§è¡Œpythonè„šæœ¬
      - name: run Code
        run: python3 EverydayWriteLog.py
      # æ·»åŠ 
      - name: Git add
        run: git add .
      # æäº¤
      - name: Git commit
        run: git commit -m 'autoCommit'
      # æ¨é€
      - name: Git push
        run: git push
      # æ£€æŸ¥å·¥ä½œæµæ˜¯å¦æ‰§è¡Œå®Œæ¯•
      - name: Check out repository code
        run: echo "${{ job.status }}"